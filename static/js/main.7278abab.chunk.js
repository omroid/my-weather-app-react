(window["webpackJsonpmy-weather-app"]=window["webpackJsonpmy-weather-app"]||[]).push([[0],{34:function(e){e.exports=JSON.parse('{"apiKey":"dILLvPyfg1AC2KloJjoJIFW6CJrISbRf"}')},52:function(e,t,a){e.exports=a(86)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},82:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),l=(a(57),a(12)),o=a(13),c=a(15),u=a(14),h=a(16),d=(a(58),a(94)),m=a(92),v=(a(59),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(m.a,{bg:"light",expand:"lg"},r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"justify-content-end"},r.a.createElement(d.a.Link,{onClick:function(){e.props.ChangePage(!0)}},"Home"),r.a.createElement(d.a.Link,{onClick:function(){e.props.ChangePage(!1)}},"Favorite")))))}}]),t}(r.a.Component)),p=a(6),f=(a(63),a(27)),y=a.n(f),g=a(91),E=a(93),b=a(95),L=a(45),D=(a(82),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isFavorite:!1,dataLocation:a.props.dataLocation,dataCurrentDay:a.props.dataDayWeather,dataNextFiveDays:a.props.dataFiveDaysWeather};var n=a.state;return n.isFavorite=a.isFavoriteCheak(),a.setState(n),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"isFavoriteCheak",value:function(){var e=JSON.parse(localStorage.getItem(this.state.dataLocation.Key));return null!=e&&"null"!=e}},{key:"addOrRemoveFromFavoriteClick",value:function(){var e=this.state;"null"==localStorage.getItem(this.state.dataLocation.Key)||null==localStorage.getItem(this.state.dataLocation.Key)?(localStorage.setItem(this.state.dataLocation.Key,JSON.stringify(this.state.dataLocation)),e.isFavorite=!0):(localStorage.setItem(this.state.dataLocation.Key,"null"),e.isFavorite=!1),this.setState(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"WeatherViewDiv"},r.a.createElement(b.a,{className:"text-center"},r.a.createElement(b.a.Header,null),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Title,null,r.a.createElement("h3",null,this.state.dataLocation.LocalizedName),r.a.createElement("p",null,this.state.dataLocation.AdministrativeArea.LocalizedName),r.a.createElement("p",null,this.state.dataLocation.Country.ID)),r.a.createElement("img",{width:"75",height:"45",title:this.state.dataCurrentDay.WeatherText,className:"img-responsive",alt:this.state.dataCurrentDay.WeatherText,src:"https://developer.accuweather.com/sites/default/files/"+this.state.dataCurrentDay.WeatherIcon+"-s.png",typeof:"foaf:Image"}),r.a.createElement("p",null,this.state.dataCurrentDay.WeatherText),r.a.createElement("h3",null,"Temperature"),r.a.createElement(b.a.Text,null,r.a.createElement("i",{class:!0===this.state.dataCurrentDay.IsDayTime?"fas fa-sun fa-3x":"far fa-moon fa-3x"}),r.a.createElement("p",null," ",this.state.dataCurrentDay.Temperature.Metric.Value,this.state.dataCurrentDay.Temperature.Metric.Unit," ")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("table",{class:"card-table table"},r.a.createElement("thead",null,void 0!==this.state.dataNextFiveDays&&null!==this.state.dataNextFiveDays?r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},r.a.createElement("i",{class:"far fa-calendar-alt"})),r.a.createElement("th",{scope:"col"},r.a.createElement("i",{class:"fas fa-sun"})),r.a.createElement("th",{scope:"col"},r.a.createElement("i",{class:"far fa-moon fa"}))):r.a.createElement("div",null)),r.a.createElement("tbody",null,void 0!==this.state.dataNextFiveDays&&null!==this.state.dataNextFiveDays?this.state.dataNextFiveDays.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.Date.split("T")[0]),r.a.createElement("td",null,e.Temperature.Maximum.Value,e.Temperature.Maximum.Unit),r.a.createElement("td",null,e.Temperature.Minimum.Value,e.Temperature.Maximum.Unit))}):r.a.createElement("div",null))),r.a.createElement(b.a.Footer,{className:"text-muted"},!1===this.state.isFavorite?r.a.createElement(L.a,{variant:"primary",onClick:function(){return e.addOrRemoveFromFavoriteClick()}},"add to favorites"):r.a.createElement(L.a,{variant:"danger",onClick:function(){return e.addOrRemoveFromFavoriteClick()}},"remove from favorites")))),r.a.createElement("br",null))}}]),t}(r.a.Component)),S=a(46),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={txtSearch:""},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=this.state;t.txtSearch=e.target.value,this.setState(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(E.a,{inline:!0,className:"SearchForm"},r.a.createElement(S.a,{type:"text",placeholder:"Search",className:"mr-sm-2",disabled:this.props.isUiLocked,onChange:function(t){return e.handleChange(t)},value:this.state.txtSearch}),r.a.createElement(L.a,{variant:"outline-success",disabled:this.props.isUiLocked,onClick:function(){return e.props.search(e.state.txtSearch)}},"Search")))}}]),t}(r.a.Component),O=a(34),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isSearchSuccess:!1,isUiLocked:!1,dataLocation:null,dataDayWeather:null,dataFiveDaysWeather:null,responseDataLocation:null,apiKey:O.apiKey},p.a.configure({autoClose:4e3,draggable:!0}),a.search("tel aviv"),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"search",value:function(e){var t=this.state.apiKey,a=this.state;if(a.isUiLocked=!0,this.setState(a),0===e.length||void 0===e||null===e)return p.a.error("search field is empty"),a.isUiLocked=!1,void this.setState(a);return e.match(/^[A-Za-z' ']+$/)?" "===e[0]?(p.a.error("illegal search query"),void(a.isUiLocked=!1)):(a.dataLocation=null,a.dataDayWeather=null,a.dataFiveDaysWeather=null,a.responseDataLocation=null,this.setState(a),p.a.info("searching please wait..."),void y.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?q="+e+"&apikey="+t).then(function(e){return a.isUiLocked=!1,e?0==e.data.length?(p.a.info("location was not found"),void this.setState(a)):(e.data.length>1?(a.responseDataLocation=e.data,p.a.info("too many cities was found")):(a.responseDataLocation=e.data[0],a.dataLocation=e.data[0],p.a.success("city was found successfully"),this.FindWeather(a,t)),void this.setState(a)):(p.a.info("no response from server"),void this.setState(a))}.bind(this)).catch(function(e){p.a.error(e.response)})):(p.a.error("please use English letters or space only"),a.isUiLocked=!1,void this.setState(a))}},{key:"FindWeather",value:function(e,t){e.isUiLocked=!0,this.setState(e),y.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+this.state.dataLocation.Key+"?apikey="+t).then(function(t){console.log("1 day"+t),t.data?(e.dataDayWeather=t.data[0],p.a.success("weather was found successfully")):p.a.info(t.message),e.isUiLocked=!1,this.setState(e)}.bind(this)).catch(function(e){p.a.error(e.response)}),e.isUiLocked=!0,this.setState(e),y.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+this.state.dataLocation.Key+"?apikey="+t+"&metric=true").then(function(t){console.log("5 days"+t),t?(e.dataFiveDaysWeather=t.data.DailyForecasts,p.a.success("future weather was found successfully")):p.a.info("no response from server"),e.isUiLocked=!1,this.setState(e)}.bind(this)).catch(function(e){p.a.error(e.response)})}},{key:"selectedOption",value:function(e){var t=e.target.name,a=this.state;a.dataLocation=a.responseDataLocation[t],a.dataDayWeather=null,a.dataFiveDaysWeather=null,a.responseDataLocation=null,this.setState(a),this.FindWeather(a,this.state.apiKey)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null," ",r.a.createElement(k,{isUiLocked:this.state.isUiLocked,search:this.search.bind(this)}),r.a.createElement("br",null)),null!==this.state.responseDataLocation&&void 0!==this.state.responseDataLocation&&this.state.responseDataLocation.length>1?r.a.createElement("div",null,r.a.createElement(E.a,{inline:!0,className:"SearchForm"},r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{variant:"success",id:"dropdown-basic"},"please choose one option from the list below"),r.a.createElement(g.a.Menu,null,this.state.responseDataLocation.map(function(t,a){return r.a.createElement(g.a.Item,{name:a,onClick:function(t){e.selectedOption(t)}},t.LocalizedName," "+t.AdministrativeArea.LocalizedName," "+t.Country.ID)}))))):r.a.createElement("div",null),void 0!==this.state.dataLocation&&null!==this.state.dataLocation&&void 0!==this.state.dataDayWeather&&null!==this.state.dataDayWeather&&void 0!==this.state.dataFiveDaysWeather&&null!==this.state.dataFiveDaysWeather?r.a.createElement(D,{dataLocation:this.state.dataLocation,dataDayWeather:this.state.dataDayWeather,dataFiveDaysWeather:this.state.dataFiveDaysWeather}):r.a.createElement("div",null))}}]),t}(r.a.Component),F=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={apiKey:O.apiKey,dataLocation:null,data:null};var n=a.state;return n.data=a.allStorage(),a.setState(n),a.getDataWeather(),p.a.configure({autoClose:4e3,draggable:!0}),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"allStorage",value:function(){for(var e=[],t=Object.keys(localStorage),a=t.length;a--;)null==localStorage.getItem(t[a])&&"null"==localStorage.getItem(t[a])||null!=JSON.parse(localStorage.getItem(t[a]))&&e.push({dataLocation:JSON.parse(localStorage.getItem(t[a])),dataDayWeather:null});return e}},{key:"getDataWeather",value:function(){for(var e=this,t=function(t){var a=e.state;y.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+e.state.data[t].dataLocation.Key+"?apikey="+e.state.apiKey).then(function(e){e.data?(a.data[t].dataDayWeather=e.data[0],this.setState(a),p.a.success("weather was found successfully")):p.a.info(e.message)}.bind(e)).catch(function(e){p.a.error(e.response)})},a=0;a<this.state.data.length;a++)t(a)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},this.state.data.map(function(e,t){return r.a.createElement("div",{class:"col-md-4"},r.a.createElement("div",{class:"thumbnail"},null==JSON.parse(localStorage.getItem(Object.keys(localStorage)[t]))&&"null"==JSON.parse(localStorage.getItem(Object.keys(localStorage)[t]))||null===e.dataDayWeather?r.a.createElement("div",null):r.a.createElement(D,{dataLocation:e.dataLocation,dataDayWeather:e.dataDayWeather})))}))))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={IsShowHomePage:!0},p.a.configure({autoClose:4e3,draggable:!0}),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){var t=this.state;t.IsShowHomePage=e,this.setState(t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v,{ChangePage:this.onChange.bind(this)}),!0===this.state.IsShowHomePage?r.a.createElement(C,null):r.a.createElement(F,null))}}]),t}(r.a.Component);i.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.7278abab.chunk.js.map